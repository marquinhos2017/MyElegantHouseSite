GestureDetector( onTap: () { showModalBottomSheet( context: context, shape: const RoundedRectangleBorder( borderRadius: BorderRadius.vertical( top: Radius.circular(20)), ), builder: (_) => Padding( padding: const EdgeInsets.all(16.0), child: Column( mainAxisSize: MainAxisSize.min, children: [ const Text( 'Alterar Status', style: TextStyle( fontSize: 18, fontWeight: FontWeight.bold, ), ), const SizedBox(height: 16),  Concluído ListTile( leading: Icon(Icons.check_circle, color: Colors.green.shade400), title: const Text('Concluído'), onTap: () async { final confirm = await showDialog<bool>( context: context, builder: (_) => AlertDialog( title: const Text('Confirmação'), content: const Text( 'Tem certeza que deseja alterar o status para "Concluído"?'), actions: [ TextButton( onPressed: () => Navigator.pop(context, false), child: const Text('Cancelar'), ), TextButton( onPressed: () => Navigator.pop(context, true), child: const Text('Sim'), ), ], ), ); if (confirm != true) return; await FirebaseFirestore.instance .collection('studiowash_servicos') .doc(s['id']) .update({'status': 'concluido'}); Navigator.pop(context); setState(() { s['status'] = 'concluido'; }); }, ),  Em Andamento ListTile( leading: Icon(Icons.timelapse, color: Colors.orange.shade400), title: const Text('Em Andamento'), onTap: () async { final confirm = await showDialog<bool>( context: context, builder: (_) => AlertDialog( title: const Text('Confirmação'), content: const Text( 'Tem certeza que deseja alterar o status para "Em Andamento"?'), actions: [ TextButton( onPressed: () => Navigator.pop(context, false), child: const Text('Cancelar'), ), TextButton( onPressed: () => Navigator.pop(context, true), child: const Text('Sim'), ), ], ), ); if (confirm != true) return; await FirebaseFirestore.instance .collection('studiowash_servicos') .doc(s['id']) .update({'status': 'em_andamento'}); Navigator.pop(context); setState(() { s['status'] = 'em_andamento'; }); }, ),  Pendente ListTile( leading: Icon(Icons.pending, color: Colors.grey.shade400), title: const Text('Pendente'), onTap: () async { final confirm = await showDialog<bool>( context: context, builder: (_) => AlertDialog( title: const Text('Confirmação'), content: const Text( 'Tem certeza que deseja alterar o status para "Pendente"?'), actions: [ TextButton( onPressed: () => Navigator.pop(context, false), child: const Text('Cancelar'), ), TextButton( onPressed: () => Navigator.pop(context, true), child: const Text('Sim'), ), ], ), ); if (confirm != true) return; await FirebaseFirestore.instance .collection('studiowash_servicos') .doc(s['id']) .update({'status': 'pendente'}); Navigator.pop(context); setState(() { s['status'] = 'pendente'; }); }, ), ], ), ), ); }, child: Container( padding: const EdgeInsets.symmetric( horizontal: 12, vertical: 6), decoration: BoxDecoration( color: statusColor.withOpacity(0.2), borderRadius: BorderRadius.circular(12), ), child: Text( (s['status'] ?? 'pendente').toUpperCase(), style: TextStyle( color: statusColor, fontWeight: FontWeight.bold, fontSize: 12, ), ), ), ),